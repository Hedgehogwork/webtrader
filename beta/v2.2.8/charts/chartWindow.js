define(["exports","jquery","../windows/windows","../websockets/binary_websockets","highstock-release/modules/offline-exporting","highstock-release/highcharts-more","common/util","webtrader-charts"],function(a,b,c,d){"use strict";function e(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(a,"__esModule",{value:!0}),a.addNewWindow=void 0;{var f=e(b),g=e(c),h=e(d);local_storage.get("config")}WebtraderCharts.init({appId:h["default"].app_id,lang:"en",server:h["default"].socket_url});var i=a.addNewWindow=function(a){var b=a,c=f["default"]("<div/>");a=f["default"].extend({title:a.instrumentName,relativePosition:!0,close:function(){e.actions.destroy(),f["default"](this).dialog("destroy").remove()},resize:function(){return e&&e.actions.reflow()},refresh:function(){return e.actions.refresh()},open:function(){f["default"](this);f["default"](this).parent().promise().done(function(){return e.actions.reflow()})}},a);var d=g["default"].createBlankWindow(c,a),e=WebtraderCharts.chartWindow.addNewChart(c,b);e.actions.reflow();var h=d.track({module_id:"chartWindow",is_unique:!1,data:e.data()});return e.events.anyChange=function(){return h(e.data())},d.dialog("open"),d};a["default"]={addNewWindow:i}});