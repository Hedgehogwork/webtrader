!function(a){"object"==typeof module&&module.exports?module.exports=a:a(Highcharts)}(function(a){!function(a){var b=a.defaultOptions,c=a.doc,d=a.Chart,e=a.addEvent,f=a.removeEvent,g=a.fireEvent,h=a.createElement,i=a.discardElement,j=a.css,k=a.merge,l=a.pick,m=a.each,n=a.objectEach,o=a.extend,p=a.isTouchDevice,q=a.win,r=q.navigator.userAgent,s=a.Renderer.prototype.symbols;/Edge\/|Trident\/|MSIE /.test(r),/firefox/i.test(r),o(b.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"}),b.navigation={buttonOptions:{theme:{},symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24}},k(!0,b.navigation,{menuStyle:{border:"1px solid #999999",background:"#ffffff",padding:"5px 0"},menuItemStyle:{padding:"0.5em 1em",background:"none",color:"#333333",fontSize:p?"14px":"11px",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#335cad",color:"#ffffff"},buttonOptions:{symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{fill:"#ffffff",stroke:"none",padding:5}}}),b.exporting={type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:"printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")}},menuItemDefinitions:{printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},a.post=function(a,b,d){var e=h("form",k({method:"post",action:a,enctype:"multipart/form-data"},d),{display:"none"},c.body);n(b,function(a,b){h("input",{type:"hidden",name:b,value:a},null,e)}),e.submit(),i(e)},o(d.prototype,{sanitizeSVG:function(a,b){if(b&&b.exporting&&b.exporting.allowHTML){var c=a.match(/<\/svg>(.*?$)/);c&&c[1]&&(c='<foreignObject x="0" y="0" width="'+b.chart.width+'" height="'+b.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+c[1]+"</body></foreignObject>",a=a.replace("</svg>",c+"</svg>"))}return a=a.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(\S+)("|&quot;)\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­"),a=a.replace(/<IMG /g,"<image ").replace(/<(\/?)TITLE>/g,"<$1title>").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/ id=([^" >]+)/g,' id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(a){return a.toLowerCase()})},getChartHTML:function(){return this.container.innerHTML},getSVG:function(b){var d,e,f,g,j,l=k(this.options,b);return c.createElementNS||(c.createElementNS=function(a,b){return c.createElement(b)}),e=h("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},c.body),f=this.renderTo.style.width,j=this.renderTo.style.height,f=l.exporting.sourceWidth||l.chart.width||/px$/.test(f)&&parseInt(f,10)||600,j=l.exporting.sourceHeight||l.chart.height||/px$/.test(j)&&parseInt(j,10)||400,o(l.chart,{animation:!1,renderTo:e,forExport:!0,renderer:"SVGRenderer",width:f,height:j}),l.exporting.enabled=!1,delete l.data,l.series=[],m(this.series,function(a){g=k(a.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:a.visible}),g.isInternal||l.series.push(g)}),m(this.axes,function(b){b.userOptions.internalKey||(b.userOptions.internalKey=a.uniqueKey())}),d=new a.Chart(l,this.callback),b&&m(["xAxis","yAxis","series"],function(a){var c={};b[a]&&(c[a]=b[a],d.update(c))}),m(this.axes,function(b){var c=a.find(d.axes,function(a){return a.options.internalKey===b.userOptions.internalKey}),e=b.getExtremes(),f=e.userMin,e=e.userMax;!c||void 0===f&&void 0===e||c.setExtremes(f,e,!0,!1)}),f=d.getChartHTML(),f=this.sanitizeSVG(f,l),l=null,d.destroy(),i(e),f},getSVGForExport:function(a,b){var c=this.options.exporting;return this.getSVG(k({chart:{borderRadius:0}},c.chartOptions,b,{exporting:{sourceWidth:a&&a.sourceWidth||c.sourceWidth,sourceHeight:a&&a.sourceHeight||c.sourceHeight}}))},exportChart:function(b,c){c=this.getSVGForExport(b,c),b=k(this.options.exporting,b),a.post(b.url,{filename:b.filename||"chart",type:b.type,width:b.width||0,scale:b.scale,svg:c},b.formAttributes)},print:function(){var a,b,d=this,e=d.container,f=[],h=e.parentNode,i=c.body,j=i.childNodes,k=d.options.exporting.printMaxWidth;d.isPrinting||(d.isPrinting=!0,d.pointer.reset(null,0),g(d,"beforePrint"),(b=k&&d.chartWidth>k)&&(a=[d.options.chart.width,void 0,!1],d.setSize(k,void 0,!1)),m(j,function(a,b){1===a.nodeType&&(f[b]=a.style.display,a.style.display="none")}),i.appendChild(e),q.focus(),q.print(),setTimeout(function(){h.appendChild(e),m(j,function(a,b){1===a.nodeType&&(a.style.display=f[b])}),d.isPrinting=!1,b&&d.setSize.apply(d,a),g(d,"afterPrint")},1e3))},contextMenu:function(b,d,f,g,i,k,l){var n,p,q=this,r=q.options.navigation,s=q.chartWidth,t=q.chartHeight,u="cache-"+b,v=q[u],w=Math.max(i,k);v||(q[u]=v=h("div",{className:b},{position:"absolute",zIndex:1e3,padding:w+"px"},q.container),n=h("div",{className:"highcharts-menu"},null,v),j(n,o({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},r.menuStyle)),p=function(){j(v,{display:"none"}),l&&l.setState(0),q.openMenu=!1},q.exportEvents.push(e(v,"mouseleave",function(){v.hideTimer=setTimeout(p,500)}),e(v,"mouseenter",function(){clearTimeout(v.hideTimer)}),e(c,"mouseup",function(a){q.pointer.inClass(a.target,b)||p()})),m(d,function(b){if("string"==typeof b&&(b=q.options.exporting.menuItemDefinitions[b]),a.isObject(b,!0)){var c;b.separator?c=h("hr",null,null,n):(c=h("div",{className:"highcharts-menu-item",onclick:function(a){a&&a.stopPropagation(),p(),b.onclick&&b.onclick.apply(q,arguments)},innerHTML:b.text||q.options.lang[b.textKey]},null,n),c.onmouseover=function(){j(this,r.menuItemHoverStyle)},c.onmouseout=function(){j(this,r.menuItemStyle)},j(c,o({cursor:"pointer"},r.menuItemStyle))),q.exportDivElements.push(c)}}),q.exportDivElements.push(n,v),q.exportMenuWidth=v.offsetWidth,q.exportMenuHeight=v.offsetHeight),d={display:"block"},f+q.exportMenuWidth>s?d.right=s-f-i-w+"px":d.left=f-w+"px",g+k+q.exportMenuHeight>t&&"top"!==l.alignOptions.verticalAlign?d.bottom=t-g-w+"px":d.top=g+k-w+"px",j(v,d),q.openMenu=!0},addButton:function(a){var b,c,d=this,e=d.renderer,f=k(d.options.navigation.buttonOptions,a),g=f.onclick,h=f.menuItems,i=f.symbolSize||12;if(d.btnCount||(d.btnCount=0),d.exportDivElements||(d.exportDivElements=[],d.exportSVGElements=[]),!1!==f.enabled){var j,m=f.theme,n=m.states,p=n&&n.hover,n=n&&n.select;delete m.states,g?j=function(a){a.stopPropagation(),g.call(d,a)}:h&&(j=function(){d.contextMenu(c.menuClassName,h,c.translateX,c.translateY,c.width,c.height,c),c.setState(2)}),f.text&&f.symbol?m.paddingLeft=l(m.paddingLeft,25):f.text||o(m,{width:f.width,height:f.height,padding:0}),c=e.button(f.text,0,0,j,m,p,n).addClass(a.className).attr({"stroke-linecap":"round",title:d.options.lang[f._titleKey],zIndex:3}),c.menuClassName=a.menuClassName||"highcharts-menu-"+d.btnCount++,f.symbol&&(b=e.symbol(f.symbol,f.symbolX-i/2,f.symbolY-i/2,i,i).addClass("highcharts-button-symbol").attr({zIndex:1}).add(c),b.attr({stroke:f.symbolStroke,fill:f.symbolFill,"stroke-width":f.symbolStrokeWidth||1})),c.add().align(o(f,{width:c.width,x:l(f.x,d.buttonOffset)}),!0,"spacingBox"),d.buttonOffset+=(c.width+f.buttonSpacing)*("right"===f.align?-1:1),d.exportSVGElements.push(c,b)}},destroyExport:function(a){var b=a?a.target:this;a=b.exportSVGElements;var c,d=b.exportDivElements,e=b.exportEvents;a&&(m(a,function(a,d){a&&(a.onclick=a.ontouchstart=null,c="cache-"+a.menuClassName,b[c]&&delete b[c],b.exportSVGElements[d]=a.destroy())}),a.length=0),d&&(m(d,function(a,c){clearTimeout(a.hideTimer),f(a,"mouseleave"),b.exportDivElements[c]=a.onmouseout=a.onmouseover=a.ontouchstart=a.onclick=null,i(a)}),d.length=0),e&&(m(e,function(a){a()}),e.length=0)}}),s.menu=function(a,b,c,d){return["M",a,b+2.5,"L",a+c,b+2.5,"M",a,b+d/2+.5,"L",a+c,b+d/2+.5,"M",a,b+d-1.5,"L",a+c,b+d-1.5]},d.prototype.renderExporting=function(){var a=this,b=a.options.exporting,c=b.buttons,d=a.isDirtyExporting||!a.exportSVGElements;a.buttonOffset=0,a.isDirtyExporting&&a.destroyExport(),d&&!1!==b.enabled&&(a.exportEvents=[],n(c,function(b){a.addButton(b)}),a.isDirtyExporting=!1),e(a,"destroy",a.destroyExport)},d.prototype.callbacks.push(function(a){a.renderExporting(),e(a,"redraw",a.renderExporting),m(["exporting","navigation"],function(b){a[b]={update:function(c,d){a.isDirtyExporting=!0,k(!0,a.options[b],c),l(d,!0)&&a.redraw()}}})})}(a)});